{% block cms_page_builder %}
	{% if post["cms_page_jstree_selected_page"] %}
	<div class="col-xs-8 cms-page-builder-container" id="cms_page_builder_container">
		<div>
			<div class="cms-page-builder-headline">{{ i18n('cms_page_builder_content_title') }}</div>
	    	<div class="cms-page-builder-content" id="cms_page_builder_content">
                {% if contents.type == false %}
    			<div class="url-language-row">
    				<div>Url: <input type="text" value="{{ pages[post["cms_page_jstree_selected_page"]-1].paths.0.path }}"></div>
    				<div>
    					{{ i18n('cms_page_builder_content_language_selection') }}:&nbsp;
                        <select id="cms_page_builder_language_selector">
                        	<!-- TODO: generate options programmatically -->
                            <option value="0" {% if post.cms_page_selected_language == 0 %}selected{% endif %}>Deutsch</option>
                            <option value="1" {% if post.cms_page_selected_language == 1 %}selected{% endif %}>English</option>
                        </select>     				
    				</div>
    			</div>
    			<div>
    				<p><input type="checkbox" id="cms_page_active" name="cms_page_active">&nbsp;{{ i18n('cms_page_builder_content_page_active_checkbox_label') }}</p>
    			</div>
    			<div>
    				<p><a href="">{{ i18n('cms_page_builder_content_globals_link_label') }}</a></p>
    			</div>
    			<div>
    				<hr>
    			</div>
    			<div>
    				<div class="cms-page-builder-preview">{{ i18n('cms_page_builder_content_preview') }}</div>
    			</div>
    			<div>
    				<hr>
    			</div>
                {% else %}
    			<div>
    				<hr>
    			</div>
    			<div>
    				<div class="cms-page-builder-preview">{{ i18n('cms_page_builder_edit_content_types_title') }}</div>
    			</div>
    			<div>
    				<hr>
    			</div>
                {% endif %}
				<div>
                    {% if contents.type %}
                        {% include contents.type with {'data': contents} only %}
                    {% else %}
                        {% for data in contents %}
                            {% if data.type %}
	                            {% include data.type %}
                            {% endif %}
                        {% endfor %}
                    {% endif %}
				</div>
                {% if contents.type %}
    			<div class="cms-cancel-submit-row">
    				<div><button class="cms-cancel-button" id="cms-page-builder-cancel" data-pb-se="{{ post.cms_page_selected_element }}">{{ i18n('cancel') }}</button></div>
    				<div><button class="cms-submit-button" id="cms-page-builder-submit" data-pb-se="{{ post.cms_page_selected_element }}">{{ i18n('backend_crud_save') }}</button></div>
    			</div>
                {% endif %}
	    	</div>
		</div>
	</div>
	{% else %}
	<div class="col-xs-8">
		<div>
			<div class="cms-page-builder-headline">{{ i18n('cms_page_builder_content_title') }}</div>
	    	<div class="cms-page-builder-content" id="cms_page_builder_content">
	    		<div>{{ i18n('cms_page_builder_content_no_page_selected') }}</div>
			</div>
		</div>
	</div>
	{% endif %}
{% endblock cms_page_builder %}