{#

<div class="form__control {{ hidden ? 'form__control--hidden' : '' }}"
        {{ subAttribute ? 'data-sub-attribute='~subAttribute.id~' data-parent='~subAttribute.parent~' data-value='~subAttribute.value : ''}}
     data-attribute-id="{{ attribute.id }}">

    {% set subAttributes = [] %}

    <div class="form__input form__input--select"
         {% if required %}data-required{% endif %}>
        <select name="{{ attribute.name }}"
                id="{{ attribute.name }}"
                class="form__input form__input--no-input"
                {% if required %}required{% endif %}
                data-sub-attribute-select="true">
            <option disabled selected>{{ i18n(attribute.name) }}</option>
            {% for value in attribute.values %}
                {% if value.subAttributeKey is not null %}
                    {% set subAttributes = subAttributes|merge([{id: value.subAttributeKey, parent: attribute.id, value: value.id}]) %}
                {% endif %}
                <option value="{{ value.id }}" {% if value.id == search.filter[attribute.name] %}selected="selected"{% endif %}>
                    {{ i18n(value.value) }}
                </option>
            {% endfor %}
        </select>
    </div>
</div>

{% for subAttributeItem in subAttributes %}
    {% include 'Plugins/Insertion/Frontend/Components/Content/Search/' ~ all_attributes[subAttributeItem.id].filterType|capitalize  ~ '.twig'  with {'attribute': all_attributes[subAttributeItem.id], hidden: true, required: false, subAttribute: subAttributeItem } %}
{% endfor %}

#}
<div class="form__control form__control--new-select">
    <div class="select"
         data-select-type="single"
         data-placeholder="choose stuff">
        <p class="select__text"
           data-select-text=""></p>
        <ul class="select__list"
            data-select-list="">
            <li class="select__item"
                data-selected="false"
                data-index="0">
         <span class="select__value">
            Val0
         </span>

                <div class="container">
                    <div class="select select--is-sub"
                         data-select-type="single"
                         data-placeholder="select sub"
                         data-sub-select="">
                        <p class="select__text"
                           data-select-text=""></p>
                        <ul class="select__list"
                            data-select-list="">
                            <li class="select__item select__item--checked"
                                data-selected="false"
                                data-index="0">
                     <span class="select__value">
                        Val0 - 0
                     </span>
                            </li>
                            <li class="select__item select__item--checked"
                                data-selected="false"
                                data-index="1">
                     <span class="select__value">
                        Val0 - 1
                     </span>
                            </li>
                            <li class="select__item select__item--checked"
                                data-selected="false"
                                data-index="2">
                     <span class="select__value">
                        Val0 - 2
                     </span>
                            </li>
                        </ul>
                    </div>
                    <div class="select select--is-sub"
                         data-select-type="single"
                         data-placeholder="select sub">
                        <p class="select__text"
                           data-select-text=""></p>
                        <ul class="select__list"
                            data-select-list="">
                            <li class="select__item select__item--checked"
                                data-selected="false"
                                data-index="0">
                     <span class="select__value">
                        Val0 - 0
                     </span>
                            </li>
                            <li class="select__item select__item--checked"
                                data-selected="false"
                                data-index="1">
                     <span class="select__value">
                        Val0 - 1
                     </span>
                            </li>
                            <li class="select__item select__item--checked"
                                data-selected="false"
                                data-index="2">
                     <span class="select__value">
                        Val0 - 2
                     </span>
                            </li>
                        </ul>
                    </div>
                </div>

            </li>
            <li class="select__item"
                data-selected="false"
                data-index="1">
         <span class="select__value">
            Val1
         </span>
            </li>
            <li class="select__item"
                data-selected="false"
                data-index="2">
         <span class="select__value">
            Val2
         </span>
            </li>
            <li class="select__item"
                data-selected="false"
                data-index="3">
         <span class="select__value">
            Val3
         </span>
            </li>
            <li class="select__item"
                data-selected="false"
                data-index="4">
         <span class="select__value">
            Val4
         </span>
            </li>
        </ul>
    </div>
</div>
